{% extends 'header_base.html' %}
{% load static %}
{% block title %}Send Email{% endblock %}

{% block content %}
<div class="email-container">
    <!-- Container for existing form elements and dynamic fields -->
    <div style="display: flex; width: 100%;">
        <!-- Left side container for existing form elements -->
        <div class="form-section">
            <h2>Email Templator</h2>

            <label for="email-template">Select Template:</label>
            <select id="email-template" onchange="updateTemplateAndSubject()">
                <option value="1" selected>Email Template 1</option>
                <option value="2">Email Template 2</option>
            </select>

            <div style="margin-top: 10px;">
                <label for="email-subject">Email Subject:</label>
                <input type="text" id="email-subject" value="Escalation Email">
            </div>

            <div style="margin-top: 10px;">
                <label for="email-to">To:</label>
                <input type="email" id="email-to" value="patelv2895@gmail.com" placeholder="Recipient's email">
            </div>

            <div style="margin-top: 10px;">
                <label for="email-from">From:</label>
                <input type="email" id="email-from" value="patelv2895@gmail.com" placeholder="Your email">
            </div>

            <div style="margin-top: 10px;">
                <label for="email-cc">CC:</label>
                <input type="email" id="email-cc" placeholder="CC email">
            </div>

            <div id="template-preview" style="margin-top: 20px; padding: 10px; border: 1px solid #ccc;">
                <!-- Email template content -->
            </div>

            {% csrf_token %}
            <button onclick="sendEmail()">Send Email</button>
        </div>

        <!-- Right side container for dynamic fields -->
        <div id="dynamic-fields-container" style="flex: 1;">
            <!-- Dynamic fields will be added here -->
        </div>
    </div>
</div>
{% endblock %}

{% block css %}
<link rel="stylesheet" href="{% static 'home/css/home.css' %}">
{% endblock %}


{% block js %}
<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
<script src="{% static 'home/js/home.js' %}"></script>
{% endblock %}